# Retrieval-Augmented Generation (RAG) Ğ· LLM-as-a-Judge

Ğ¦ĞµĞ¹ Ğ¿Ñ€Ğ¾Ñ”ĞºÑ‚ Ñ€ĞµĞ°Ğ»Ñ–Ğ·ÑƒÑ” Ğ¿Ğ¾Ğ²Ğ½Ğ¸Ğ¹ Ğ¿Ğ°Ğ¹Ğ¿Ğ»Ğ°Ğ¹Ğ½ Ğ´Ğ»Ñ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ñ– Ğ½Ğ° Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ñ– Ğ´Ğ°Ñ‚Ğ°ÑĞµÑ‚Ñƒ `SQuAD`-Ñ‚Ğ¸Ğ¿Ñƒ, Ğ· Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ½ÑĞ¼ Retrieval-Augmented Generation Ñ‚Ğ° Ğ¾Ñ†Ñ–Ğ½ĞºĞ¾Ñ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ĞµĞ¹ Ğ²ĞµĞ»Ğ¸ĞºĞ¾Ñ Ğ¼Ğ¾Ğ²Ğ½Ğ¾Ñ Ğ¼Ğ¾Ğ´ĞµĞ»Ğ»Ñ (LLM-as-a-Judge).

## Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ğ°Ğ¹Ğ¿Ğ»Ğ°Ğ¹Ğ½Ñƒ

### 1. Ğ—Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ğ´Ğ°Ñ‚Ğ°ÑĞµÑ‚Ñƒ
Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑ”Ñ‚ÑŒÑÑ ÑĞ¿Ñ€Ğ¾Ñ‰ĞµĞ½Ğ¸Ğ¹ Ğ´Ğ°Ñ‚Ğ°ÑĞµÑ‚ `simplified_squad_300.json`, Ñ‰Ğ¾ Ğ¼Ñ–ÑÑ‚Ğ¸Ñ‚ÑŒ:
- `question` â€” Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ
- `answer` â€” Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ° Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ
- `context` â€” Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²Ğ¸Ğ¹ Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚, Ñ‰Ğ¾ Ğ¼Ñ–ÑÑ‚Ğ¸Ñ‚ÑŒ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ

> ğŸ”¸ Ğ¤Ğ°Ğ¹Ğ» Ñ€Ğ¾Ğ·Ğ¼Ñ–Ñ‰ÑƒÑ”Ñ‚ÑŒÑÑ Ğ² `data/`

---

### 2. Ğ¡Ñ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Ğ±Ğ°Ğ·Ğ¸ Ğ·Ğ½Ğ°Ğ½ÑŒ
ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ¸ Ğ· ÑƒÑÑŒĞ¾Ğ³Ğ¾ Ğ´Ğ°Ñ‚Ğ°ÑĞµÑ‚Ñƒ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑÑ‚ÑŒÑÑ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ±ÑƒĞ´Ğ¾Ğ²Ğ¸ Ğ²ĞµĞºÑ‚Ğ¾Ñ€Ğ½Ğ¾Ñ— Ğ±Ğ°Ğ·Ğ¸ Ğ·Ğ½Ğ°Ğ½ÑŒ Ğ·Ğ° Ğ´Ğ¾Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ¾Ñ:
- `sentence-transformers/all-MiniLM-L6-v2`
- FAISS ÑĞº Ğ²ĞµĞºÑ‚Ğ¾Ñ€Ğ½Ğµ ÑÑ…Ğ¾Ğ²Ğ¸Ñ‰Ğµ

---

### 3. Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ñ–Ñ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ĞµĞ¹

- **Baseline**: Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ Ğ³ĞµĞ½ĞµÑ€ÑƒÑ”Ñ‚ÑŒÑÑ *Ğ»Ğ¸ÑˆĞµ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ñ– Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ*
- **RAG**: Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑ”Ñ‚ÑŒÑÑ retriever Ğ´Ğ»Ñ Ğ·Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¶ĞµĞ½Ğ½Ñ Ñ€ĞµĞ»ĞµĞ²Ğ°Ğ½Ñ‚Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ñƒ, ÑĞºĞ¸Ğ¹ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ”Ñ‚ÑŒÑÑ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ–Ğ¹ Ğ¼Ğ¾Ğ´ĞµĞ»Ñ–

> ğŸ”¸ Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ñ–Ñ Ğ¿Ñ€Ğ¾Ğ²Ğ¾Ğ´Ğ¸Ñ‚ÑŒÑÑ Ğ·Ğ° Ğ´Ğ¾Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ¾Ñ `Ollama` (Ğ½Ğ°Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´, `phi3`, `llama3`, Ñ‚Ğ¾Ñ‰Ğ¾)

---

### 4. ĞÑ†Ñ–Ğ½ĞºĞ° ÑĞºĞ¾ÑÑ‚Ñ– Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ĞµĞ¹

ĞÑ†Ñ–Ğ½ÑĞ²Ğ°Ğ½Ğ½Ñ Ğ²Ğ¸ĞºĞ¾Ğ½ÑƒÑ”Ñ‚ÑŒÑÑ LLM-Ğ¼Ğ¾Ğ´ĞµĞ»Ğ»Ñ Ñ‡ĞµÑ€ĞµĞ· Ğ¿Ñ–Ğ´Ñ…Ñ–Ğ´ **LLM-as-a-Judge**, ÑĞºĞ° Ğ¾Ñ‚Ñ€Ğ¸Ğ¼ÑƒÑ”:
- Ğ¿Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ
- Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñƒ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ
- Ğ·Ğ³ĞµĞ½ĞµÑ€Ğ¾Ğ²Ğ°Ğ½Ñƒ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ

Ñ– Ğ²Ğ¸Ğ´Ğ°Ñ” Ğ¾Ñ†Ñ–Ğ½ĞºÑƒ Ğ²Ñ–Ğ´ **1 Ğ´Ğ¾ 5**, Ğ´Ğµ:
- 1 = Ğ¿Ğ¾Ğ²Ğ½Ñ–ÑÑ‚Ñ Ğ½ĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ°
- 5 = Ñ–Ğ´ĞµĞ°Ğ»ÑŒĞ½Ğ° Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ

> ğŸ”¸ Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑ”Ñ‚ÑŒÑÑ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ `LLaMA 3 (70B)` Ñ‡ĞµÑ€ĞµĞ· Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ñƒ Groq.

---

### 5. ĞÑ†Ñ–Ğ½ĞºĞ° Retrieval (Recall@K)

Ğ”Ğ»Ñ Ğ²Ğ¸Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ ÑĞºĞ¾ÑÑ‚Ñ– Ğ²Ñ–Ğ´Ğ±Ğ¾Ñ€Ñƒ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ñ–Ğ² Ğ²Ğ¸ĞºĞ¾Ğ½ÑƒÑ”Ñ‚ÑŒÑÑ Ğ¾Ñ†Ñ–Ğ½ĞºĞ°:
- **Recall@10**
- **Recall@15**
- **Recall@20**
- **Recall@25**
- **Recall@30**

ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ°: Ñ‡Ğ¸ Ğ¿Ğ¾Ñ‚Ñ€Ğ°Ğ¿Ğ¸Ğ² Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¸Ğ¹ Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ñƒ ÑĞµÑ€ĞµĞ´ K Ğ½Ğ°Ğ¹ĞºÑ€Ğ°Ñ‰Ğ¸Ñ….

---

## Ğ’Ğ¸Ğ¼Ğ¾Ğ³Ğ¸

- Python â‰¥ 3.10
- Ğ‘Ñ–Ğ±Ğ»Ñ–Ğ¾Ñ‚ĞµĞºĞ¸:
  - `langchain`
  - `langchain-community`
  - `sentence-transformers`
  - `faiss-cpu`
  - `groq` (Ğ°Ğ±Ğ¾ `openai`/`gemini`)
  - `ollama` (Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ° ollama-Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ)

> ğŸ”¸ Ğ’ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ:
```bash
pip install -U langchain langchain-community sentence-transformers faiss-cpu groq ollama
